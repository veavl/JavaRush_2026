# Выбор и установка Java 21 LTS для разработки

## Тема обсуждения
Выбор версии JDK для нового проекта в IntelliJ IDEA и установка Java 21 LTS.

### 1. Выбор версии JDK

**Проблема:** 
При создании проекта в IntelliJ IDEA доступны JDK 17 и JDK 22, но нет JDK 21.

**Рекомендация:** 
Выбрать Java 21 LTS для новых проектов в 2025 году.

**Почему Java 21 лучше Java 17:**
- Более новая LTS версия (выпущена в 2023)
- Будет поддерживаться дольше
- Больше современных возможностей (Virtual Threads, Pattern Matching, Records и др.)
- К 2025 году уже хорошо поддерживается экосистемой

**Почему не JDK 22:**
- JDK 22 - это не LTS версия
- Поддержка прекращается после выхода следующей версии
- Не подходит для долгосрочных проектов

### 2. Что такое LTS?

**LTS** = **Long Term Support** (долгосрочная поддержка)

**LTS версии Java:**
- Получают обновления безопасности и исправления в течение длительного времени
- Подходят для продакшена и долгосрочных проектов
- Стабильны и предсказуемы

**Текущие LTS версии:**
- Java 8 (2014)
- Java 11 (2018)
- Java 17 (2021)
- Java 21 (2023) - новейшая LTS

**Не-LTS версии:**
- Выпускаются каждые 6 месяцев
- Поддержка прекращается после выхода следующей версии
- Подходят для экспериментов

### 3. Откуда скачать Java 21 LTS

#### Рекомендуемый вариант: Eclipse Temurin (Adoptium)

**Сайт:** https://adoptium.net/  
**Прямая ссылка:** https://adoptium.net/temurin/releases/?version=21  
**Выбор:** Windows x64, JDK 21, LTS

**Преимущества:**
- Полностью бесплатный, без регистрации
- Широко используется сообществом
- Управляется Eclipse Foundation (нейтральная организация)
- Регулярные обновления безопасности
- Подходит для коммерческого использования

**Почему Eclipse Temurin рекомендуется:**
- Прямой наследник AdoptOpenJDK (популярного источника OpenJDK)
- Полностью бесплатный и открытый, без скрытых ограничений
- Не требует регистрации
- Широкое распространение и хорошее тестирование
- Качественные сборки с регулярными обновлениями безопасности
- Нейтральность (управляется Eclipse Foundation, не привязан к конкретному вендору)

#### Альтернативные варианты:

1. **Microsoft Build of OpenJDK**
   - Сайт: https://www.microsoft.com/openjdk
   - Прямая ссылка: https://learn.microsoft.com/en-us/java/openjdk/download#openjdk-21
   - Оптимизирован для Windows

2. **Amazon Corretto**
   - Сайт: https://aws.amazon.com/corretto/
   - Прямая ссылка: https://docs.aws.amazon.com/corretto/latest/corretto-21-ug/downloads-list.html
   - Бесплатный, без регистрации

3. **Oracle JDK**
   - Сайт: https://www.oracle.com/java/technologies/downloads/#java21
   - Может потребовать лицензию для коммерческого использования
   - Требует учетную запись Oracle

### 4. Установка через IntelliJ IDEA

В диалоге создания проекта:
1. Нажмите "Download JDK..."
2. Выберите версию 21
3. Выберите поставщика (например, Eclipse Temurin)
4. Нажмите "Download"

После установки IntelliJ IDEA автоматически обнаружит JDK, или добавьте его вручную через "Add JDK..." в диалоге создания проекта.

### 5. Установка вручную (распаковка MSI или ZIP)

#### Вариант 1: Скачать ZIP версию (рекомендуется)

На сайте Adoptium:
1. Выберите формат: **ZIP** (вместо MSI)
2. Скачайте: `OpenJDK21U-jdk_x64_windows_hotspot_21.0.9_10.zip`
3. Распакуйте ZIP в `C:\jdk-21.0.9_10\` — получите правильную структуру

**Преимущества ZIP:**
- Не требует прав администратора
- Можно иметь несколько версий JDK одновременно
- Легче управлять версиями
- Не засоряет системные папки
- Простая распаковка обычным архиватором

#### Вариант 2: Распаковка MSI файла

Если скачали MSI файл (`OpenJDK21U-jdk_x64_windows_hotspot_21.0.9_10.msi`), можно распаковать его вместо установки.

**Через командную строку (CMD):**
```cmd
msiexec /a "путь\к\OpenJDK21U-jdk_x64_windows_hotspot_21.0.9_10.msi" /qb TARGETDIR="C:\jdk-21.0.9_10"
```

**Пример:**
```cmd
msiexec /a "D:\Downloads\OpenJDK21U-jdk_x64_windows_hotspot_21.0.9_10.msi" /qb TARGETDIR="C:\jdk-21.0.9_10"
```

**Параметры команды:**
- `/a` — административная установка (распаковка)
- `/qb` — тихий режим (без диалогов)
- `TARGETDIR` — папка назначения

**Важно:**
- Запустите CMD от имени администратора (правый клик → "Запуск от имени администратора")
- Укажите полный путь к MSI файлу
- Папка `C:\jdk-21.0.9_10` будет создана автоматически

**Альтернативные способы распаковки MSI:**
- Использовать утилиту LessMSI: https://lessmsi.activescott.com/
- Открыть MSI в LessMSI, выбрать все файлы и извлечь в нужную папку

**Примечание:** MSI — это не обычный архив. Внутри него база данных установки с зашифрованными именами файлов. Простое открытие через 7-Zip/WinRAR не даст нужную структуру. Поэтому рекомендуется использовать ZIP версию или команду `msiexec`.

#### После распаковки (ZIP или MSI):

Структура должна быть примерно такой:
```
C:\jdk-21.0.9_10\
├── bin\
├── lib\
├── include\
├── conf\
└── ...
```

**Добавление JDK в IntelliJ IDEA:**
- При создании проекта: "Add JDK..." → выберите папку `C:\jdk-21.0.9_10`
- Или в настройках проекта: File → Project Structure → SDKs → Add SDK → JDK → укажите путь

## Итоговые рекомендации

1. **Для новых проектов в 2025 году:** Используйте Java 21 LTS
2. **Источник для скачивания:** Eclipse Temurin (Adoptium) - https://adoptium.net/
3. **Платформа:** Windows x64
4. **Формат:** ZIP (рекомендуется) или MSI
5. **Установка:** 
   - Через IntelliJ IDEA ("Download JDK...") - самый простой способ
   - Или вручную: распакуйте ZIP в `C:\jdk-21.0.9_10\` и добавьте в IntelliJ IDEA через "Add JDK..."

## Дата обсуждения
2025 год
